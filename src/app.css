@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@400;700&display=swap");

* {
  box-sizing: border-box;
}

@import "tailwindcss";

@import "@catppuccin/tailwindcss/mocha.css";
@custom-variant dark (&:where(.frappe, .frappe *, .macchiato, .macchiato *, .mocha, .mocha *));

@import "tailwindcss-animated";

@plugin "@tailwindcss/typography";
@theme {
  --font-sans: "JetBrains Mono", sans-serif;
  --font-hebrew: "Noto Sans Hebrew", sans-serif;
}

.font-hebrew {
  font-family: var(--font-hebrew);
}

.font-sans {
  font-family: var(--font-sans);
}

html {
  scroll-behavior: smooth;
}

main {
  -webkit-overflow-scrolling: touch; /* For smooth scrolling on iOS */
}
.skill-chip {
  @apply rounded-md bg-ctp-surface0 px-4 py-2 font-mono text-ctp-text shadow-md transition-all hover:scale-105 hover:text-ctp-base;
}
.skill-chip.c-green {
  @apply hover:bg-ctp-green;
}
.skill-chip.c-sky {
  @apply hover:bg-ctp-sky;
}

.controller-pile-container {
  @apply flex h-16 w-16 items-center justify-center;
  perspective: 500px;
}

.controller-pile {
  @apply relative h-full w-full;
  transform-style: preserve-3d;
  transition: transform 0.4s ease-in-out;
}

.controller-icon {
  @apply absolute h-full w-full object-contain transition-all duration-400 ease-in-out;
  /* Start with a base rotation to create the pile effect */
  transform: rotateX(60deg) rotateZ(-30deg);
}

/* Position each controller in the pile */
.controller-icon:nth-child(1) {
  transform: rotateX(5deg) rotateZ(-10deg) translateZ(0px) translateX(-25px)
    translateY(-10px);
  z-index: 3;
}
.controller-icon:nth-child(2) {
  transform: rotateX(5deg) rotateZ(0deg) translateZ(5px) translateX(0px)
    translateY(10px);
  z-index: 2;
}
.controller-icon:nth-child(3) {
  transform: rotateX(5deg) rotateZ(10deg) translateZ(10px) translateX(25px)
    translateY(-10px);
  z-index: 1;
}

/* Conditional coloring based on theme */
:global(html.latte) .controller-icon {
  filter: invert(1); /* Black for light mode */
}

/* The Exploded View on Hover */
.controller-pile-container:hover .controller-pile {
  transform: scale(1.1);
}

.controller-pile-container:hover .controller-icon {
  transform: rotateX(0deg) rotateZ(0deg); /* Straighten out the icons */
}

/* Fan them out on hover */
.controller-pile-container:hover .controller-icon:nth-child(1) {
  transform: translateY(-35px) translateX(-15px) rotateZ(-15deg);
}
.controller-pile-container:hover .controller-icon:nth-child(2) {
  transform: translateY(-5px);
}
.controller-pile-container:hover .controller-icon:nth-child(3) {
  transform: translateY(25px) translateX(15px) rotateZ(15deg);
}
/* New Thematic Styles */

/* For Game Engines */
.skill-cog {
  @apply flex h-24 w-24 items-center justify-center rounded-full bg-ctp-surface0 font-mono text-lg font-bold text-ctp-text shadow-inner transition-all duration-300;
  clip-path: polygon(
    50% 0%,
    61% 35%,
    98% 35%,
    68% 57%,
    79% 91%,
    50% 70%,
    21% 91%,
    32% 57%,
    2% 35%,
    39% 35%
  );
  animation: spin 10s linear infinite reverse;
}
.skill-cog:hover {
  @apply scale-110 -rotate-[30deg] cursor-pointer bg-ctp-mauve text-ctp-base;
  animation-play-state: paused;
}
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* For Programming Languages */
.blinking-cursor {
  animation: blink 1s step-end infinite;
}
@keyframes blink {
  from,
  to {
    background-color: transparent;
  }
  50% {
    background-color: #a6e3a1; /* ctp-green */
  }
}

/* For Backend & Databases */
.skill-node {
  @apply w-3/4 rounded-lg bg-ctp-surface0 px-4 py-2 text-center font-mono text-ctp-text shadow-lg transition-all hover:scale-105 hover:text-ctp-base;
}

.skill-node.c-sky {
  @apply hover:bg-ctp-sky;
}
.section-animate {
  opacity: 0;
  transform: translateY(50px);
  transition:
    opacity 0.6s ease-out,
    transform 0.6s ease-out;
}

.section-animate.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.glitch {
  animation: glitch 1.5s linear infinite;
}

@keyframes glitch {
  2%,
  64% {
    transform: translate(2px, 0) skew(0deg);
  }
  4%,
  60% {
    transform: translate(-2px, 0) skew(0deg);
  }
  62% {
    transform: translate(0, 0) skew(5deg);
  }
}

.glitch:before,
.glitch:after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch:before {
  left: 2px;
  text-shadow: -2px 0 #ff00c1;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim 5s infinite linear alternate-reverse;
}

.glitch:after {
  left: -2px;
  text-shadow:
    -2px 0 #00fff9,
    2px 2px #ff00c1;
  clip: rect(85px, 450px, 90px, 0);
  animation: glitch-anim2 5s infinite linear alternate-reverse;
}

@keyframes glitch-anim {
  0% {
    clip: rect(42px, 9999px, 44px, 0);
    transform: skew(0.3deg);
  }
  /* ... (keep the rest of the keyframes from the original) */
}

@keyframes glitch-anim2 {
  0% {
    clip: rect(42px, 9999px, 44px, 0);
    transform: skew(0.3deg);
  }
  /* ... (keep the rest of the keyframes from the original) */
}
